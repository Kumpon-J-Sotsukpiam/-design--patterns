> ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏≠‡∏¢‡∏π‡πà ‡∏≠‡∏¢‡πà‡∏≤‡∏û‡∏∂‡πà‡∏á‡∏ã‡∏ô ‡∏£‡∏≠‡∏ï‡∏≠‡∏ô‡πÄ‡∏¢‡πá‡∏ô‡πÜ‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡∏ó‡∏≥‡∏ï‡πà‡∏≠

![img](assets/visitor/visitor.png)

# Visitor
Represent an operation to be performed on the elements of an object structure. Visitor lets you define a new operation without changing the classes of the elements on which it operates.

## üéØ ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á pattern ‡∏ô‡∏µ‡πâ
‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏´‡∏°‡πà‡πÜ‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ö class ‡πÇ‡∏î‡∏¢‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏°

## ‚úå ‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£‡πÅ‡∏ö‡∏ö‡∏™‡∏±‡πâ‡∏ô‡πÜ
1. xxx

## üò¢ ‡∏õ‡∏±‡∏ç‡∏´‡∏≤
‡∏´‡∏•‡∏±‡∏Å‡∏à‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏ó‡∏µ‡πà‡∏Å‡∏≤‡∏£‡∏£‡∏ö‡πÄ‡∏£‡πâ‡∏≤‡∏Ç‡∏≠‡∏á **‡∏°‡∏≤‡∏£‡πå‡∏Ñ‡∏™‡∏≤‡∏Å‡∏Å‡∏£‡∏∞‡πÄ‡∏ö‡∏∑‡∏≠** ‡πÑ‡∏°‡πà‡πÑ‡∏´‡∏ß ‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÄ‡∏£‡∏≤‡∏Å‡πá‡πÉ‡∏à‡∏≠‡πà‡∏≠‡∏ô‡∏¢‡∏≠‡∏°‡∏°‡∏≤‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Å‡∏±‡∏ö Google Map ‡∏ã‡∏∂‡πà‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏ó‡∏£‡∏≤‡∏ö‡∏î‡∏µ‡∏ß‡πà‡∏≤‡∏ï‡∏±‡∏ß Google map ‡∏ô‡∏±‡πâ‡∏ô‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏≠‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏£ ‡∏°‡∏µ‡∏ó‡∏±‡πâ‡∏á‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏£‡∏∑‡∏≠‡∏ô ‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏° ‡∏™‡∏¥‡πà‡∏á‡∏Å‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡πà‡∏≤‡∏á‡πÜ‡∏≠‡∏µ‡∏Å‡∏ö‡∏≤‡∏ô‡∏ï‡∏∞‡πÑ‡∏ó ‡∏ã‡∏∂‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡πà‡∏≤‡∏á‡πÜ‡∏ó‡∏µ‡πà‡∏ß‡πà‡∏≤‡∏°‡∏≤‡∏°‡∏±‡∏ô‡∏Å‡πá‡∏à‡∏∞‡∏°‡∏µ class ‡∏Ç‡∏≠‡∏á‡∏°‡∏±‡∏ô‡πÄ‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÅ‡∏ö‡∏ö‡∏ó‡∏µ‡πà‡∏î‡∏π‡πÅ‡∏•‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡∏°‡∏±‡∏ô‡∏≠‡∏¢‡∏π‡πà

‡∏≠‡∏¢‡∏π‡πà‡∏°‡∏≤‡∏ß‡∏±‡∏ô‡∏ô‡∏∂‡∏á ‡πÄ‡∏£‡∏≤‡∏Å‡πá‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà‡∏°‡∏≤‡∏ô‡∏±‡πà‡∏ô‡∏Å‡πá‡∏Ñ‡∏∑‡∏≠‡∏Å‡∏≤‡∏£ export ‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏´‡πâ‡∏≠‡∏≠‡∏Å‡∏°‡∏≤‡πÄ‡∏õ‡πá‡∏ô XML ‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏±‡πà‡∏ô‡πÄ‡∏≠‡∏á ‡∏ï‡∏≤‡∏°‡∏£‡∏π‡∏õ‡πÄ‡∏ö‡∏¢

![img](assets/visitor/problem1.png)

‡∏ü‡∏±‡∏á‡∏î‡∏π‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡πá‡∏ô‡πà‡∏≤‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏≠‡∏∞‡πÑ‡∏£‡∏¢‡∏≤‡∏Å‡∏ô‡∏¥ ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏à‡∏∏‡∏î ‡∏Å‡πá‡∏°‡∏µ class ‡∏ó‡∏µ‡πà‡∏î‡∏π‡πÅ‡∏•‡∏Ç‡∏≠‡∏á‡∏°‡∏±‡∏ô‡πÄ‡∏≠‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß ‡∏î‡∏±‡∏á‡∏ô‡∏±‡πâ‡∏ô‡πÄ‡∏£‡∏≤‡∏Å‡πá‡πÅ‡∏Ñ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏° export method ‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ö class ‡∏û‡∏ß‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡∏Å‡πá‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡∏¥!!

‡πÅ‡∏ï‡πà‡πÅ‡∏•‡πâ‡∏ß **‡∏Ç‡∏á‡πÄ‡∏ö‡πâ‡∏á** ‡∏ó‡∏µ‡πà‡∏î‡∏π‡πÅ‡∏• system architect ‡∏≠‡∏¢‡∏π‡πà ‡∏Å‡πá‡πÑ‡∏°‡πà‡∏¢‡∏≠‡∏°‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏≤‡∏ó‡∏≥‡πÅ‡∏ö‡∏ö‡∏ô‡∏±‡πâ‡∏ô ‡πÇ‡∏î‡∏¢‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏ß‡πà‡∏≤‡πÇ‡∏Ñ‡πâ‡∏î‡∏û‡∏ß‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡∏°‡∏±‡∏ô‡πÄ‡∏õ‡πá‡∏ô production ‡πÅ‡∏•‡πâ‡∏ß ‡∏ã‡∏∂‡πà‡∏á‡πÄ‡∏Ç‡∏≤‡πÑ‡∏°‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏Å‡∏•‡∏±‡∏ß‡∏ß‡πà‡∏≤‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÇ‡∏Ñ‡πâ‡∏î‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡∏°‡∏µ bug ‡∏Å‡πá‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏î‡πâ

> **Production**  
‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£‡∏Å‡πá‡πÅ‡∏•‡πâ‡∏ß‡πÅ‡∏ï‡πà‡∏ó‡∏µ‡πà‡∏°‡∏±‡∏ô‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏ä‡πâ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏à‡∏£‡∏¥‡∏á‡πÜ ‡∏°‡∏µ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏à‡∏£‡∏¥‡∏á ‡∏≠‡∏∞‡πÑ‡∏£‡∏û‡∏ß‡∏Å‡∏ô‡∏µ‡πâ ‡∏ã‡∏∂‡πà‡∏á‡∏Ç‡∏≠‡∏á‡∏û‡∏ß‡∏Å‡∏ô‡∏µ‡πâ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÑ‡∏õ‡∏¢‡∏∏‡πà‡∏á‡∏Å‡∏±‡∏ö‡∏°‡∏±‡∏ô‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏°‡∏±‡∏ô‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ ‡∏î‡∏±‡∏á‡∏ô‡∏±‡πâ‡∏ô‡πÄ‡∏£‡∏≤‡πÄ‡∏•‡∏¢‡∏à‡∏∞‡∏ó‡∏≥ `Staging environment` ‡πÅ‡∏•‡∏∞ `Development environment` ‡πÄ‡∏≠‡∏≤‡πÑ‡∏ß‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏ó‡∏î‡∏™‡∏≠‡∏ö feature ‡πÉ‡∏´‡∏°‡πà‡πÜ‡∏Å‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà `Production environment` ‡∏ô‡∏±‡πà‡∏ô‡πÄ‡∏≠‡∏á

![img](assets/visitor/problem2-en.png)

‡∏ô‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏õ‡πã‡∏≤‡πÅ‡∏Å‡∏à‡∏∞‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò‡πÑ‡∏°‡πà‡∏¢‡∏≠‡∏°‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏≤‡πÅ‡∏Å‡πâ class ‡∏û‡∏ß‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡πÅ‡∏•‡πâ‡∏ß ‡∏õ‡πã‡∏≤‡πÅ‡∏Å‡∏¢‡∏±‡∏á‡∏ï‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ß‡πà‡∏≤

‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á class ‡∏û‡∏ß‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡∏Ñ‡∏∑‡∏≠‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Å‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏ô‡∏∞‡πÄ‡∏ü‡∏£‡πâ‡∏¢ ‡πÄ‡∏≠‡πá‡∏á‡∏Ñ‡∏¥‡∏î‡∏ß‡πà‡∏≤‡∏°‡∏±‡∏ô‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏´‡∏£‡∏≠‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏° export method ‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ö class ‡∏û‡∏ß‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡∏ô‡∏∞? (‡∏û‡∏≤‡∏ï‡∏≤‡∏°‡πà‡∏≠‡∏ô!! ‡∏°‡∏±‡∏ô‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡πÅ‡∏Ñ‡πà‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á production ‡πÅ‡∏•‡πâ‡∏ß ‡∏°‡∏±‡∏ô‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á design ‡∏î‡πâ‡∏ß‡∏¢)

‡∏ó‡∏µ‡πà‡πÄ‡∏à‡πã‡∏á‡πÑ‡∏õ‡∏Å‡∏ß‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏Ñ‡∏∑‡∏≠ ‡πÄ‡∏£‡∏≤‡πÑ‡∏î‡πâ‡∏¢‡∏¥‡∏ô‡∏Ç‡πà‡∏≤‡∏ß‡∏°‡∏≤‡∏ß‡πà‡∏≤‡πÄ‡∏Æ‡∏µ‡∏¢ **‡∏°‡∏≤‡∏£‡πå‡∏Ñ‡∏™‡∏≤‡∏Å‡∏Å‡∏£‡∏∞‡πÄ‡∏ö‡∏∑‡∏≠** ‡∏¢‡∏±‡∏á‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏≤ export ‡∏≠‡∏≠‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏•‡∏≤‡∏¢‡πÜ format ‡πÅ‡∏•‡∏∞‡∏¢‡∏±‡∏á‡∏°‡∏µ‡∏≠‡∏µ‡∏Å‡∏´‡∏•‡∏≤‡∏¢‡πÜ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡∏à‡∏∞‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏õ‡∏•‡∏Å‡πÜ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡∏≠‡∏µ‡∏Å‡∏î‡πâ‡∏ß‡∏¢ ‡∏ã‡∏∂‡πà‡∏á‡∏ñ‡πâ‡∏≤‡πÄ‡∏£‡∏≤‡∏ó‡∏≥‡∏ï‡∏≤‡∏°‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏Ñ‡∏¥‡∏î‡πÑ‡∏ß‡πâ‡πÉ‡∏ô‡∏ï‡∏≠‡∏ô‡πÅ‡∏£‡∏Å ‡∏°‡∏±‡∏ô‡∏à‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏£‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏¢‡∏±‡∏î‡∏Ç‡∏≠‡∏á‡πÅ‡∏õ‡∏•‡∏Å‡πÜ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡∏ó‡∏∏‡∏Å‡πÜ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏•‡∏¢‡∏≠‡∏∞‡∏î‡∏¥ ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏û‡∏ß‡∏Å‡∏ô‡∏µ‡πâ‡∏¢‡∏±‡∏á‡πÑ‡∏á‡∏î‡∏µ‡∏Å‡∏±‡∏ô‡∏ô‡∏∞ ??

## üòÑ ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
xxx

## üìå ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡∏≠‡∏á pattern ‡∏ô‡∏µ‡πâ
xxx

## üõ† ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏ô‡∏≥‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
xxx

## üëç ‡∏Ç‡πâ‡∏≠‡∏î‡∏µ
* xxx

## üëé ‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢
* xxx

## ‚Äç‚Äçüìù Code ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á
```
xxx
```

**Output**
```
xxx
```

# Credit
https://refactoring.guru  
You can buy his book by click the image below.  
[![img](https://refactoring.guru/images/patterns/book/web-cover-en.png)](https://refactoring.guru/design-patterns/book#buy-now)  